type DocFlowUser {
  id: ID!
  name: String
  type: String
  presentation: String
}

type DocFlowState {
  id: ID!
  name: String
  type: String
  presentation: String
}

type DocFlowStatus {
  id: ID!
  name: String
  type: String
  presentation: String
}

type DocFlowOrganization {
  id: ID!
  name: String
  type: String
  presentation: String
  fullName: String
  inn: String
  kpp: String
  VATpayer: Boolean
}

type DocFlowSubdivision {
  id: ID!
  name: String
  type: String
  presentation: String
}

type DocFlowApprovalResult {
  id: ID!
  name: String
  type: String
  presentation: String
}

type DocFlowVisa {
  id: ID!
  name: String
  type: String
  presentation: String
  addedBy: DocFlowUser
  comment: String
  date: Date
  result: DocFlowApprovalResult
  reviewer: DocFlowUser
  signatureChecked: Boolean
  signatureValid: Boolean
  signed: Boolean
}

type DocFlowInternalDocument {
  id: ID!
  name: String
  type: String
  presentation: String
  beginDate: Date
  regDate: Date
  regNumber: String
  title: String
  summary: String
  status: DocFlowStatus
  statusChangeEnabled: Boolean
  statusEnabled: Boolean
  statusApproval: DocFlowStatus
  statusPerformance: DocFlowStatus
  statusRegistration: DocFlowStatus
  organization: DocFlowOrganization
  subdivision: DocFlowSubdivision
  author: DocFlowUser
  responsible: DocFlowUser
  files: DocFlowFiles
  visas: [DocFlowVisa]
}

type DocFlowRole {
  id: ID!
  name: String
  type: String
  presentation: String
}

type DocFlowTarget {
  name: String
  type: String
  role: DocFlowRole
  target: DocFlowInternalDocument
  allowDeletion: Boolean
}

type DocFlowFileVersion {
  id: ID!
  name: String
  type: String
  presentation: String
}

type DocFlowFile {
  id: ID!
  name: String
  type: String
  author: DocFlowUser
  encrypted: Boolean
  signed: Boolean
  editing: Boolean
  description: String
  activeVersion: DocFlowFileVersion
  binaryData: String
  extension: String
  creationDate: Date
  modificationDateUniversal: Date
  size: Int
}

type DocFlowFiles {
  object: [DocFlowFile]
  error: [String]
}

type DocFlowParentTask {
  id: ID!
  name: String
  type: String
  presentation: String
  author: DocFlowUser
  beginDate: Date
  blockedByTemplate: Boolean
  completed: Boolean
  description: String
  dueDate: Date
  dueTimeEnabled: Boolean
  executionComment: String
  importance: DocFlowImportance
  leadingTaskEnabled: Boolean
  parentTaskEnabled: Boolean
  performers: [DocFlowUser]
  started: Boolean
  state: DocFlowState
  stateEnabled: Boolean
  target: DocFlowInternalDocument
  targets: [DocFlowTarget]
}

type DocFlowImportance {
  id: ID!
  type: String
  name: String
  presentation: String
}

input DocFlowDataInput {
  processStep: DocFlowProcessStep
  comments: String
  endDate: Date
}

enum DocFlowProcessStep {
  Execute
  Familiarize
  Conform
  ConformWithComments
  NotConform
  Approve
  NotApprove
}

type DocFlowTask {
  id: ID!
  name: String
  type: String
  presentation: String
  importance: DocFlowImportance
  performer: DocFlowUser!
  executed: Boolean
  executionMark: String
  beginDate: Date
  changeRight: Boolean
  dueDate: Date
  endDate: Date
  description: String
  parentTask: DocFlowParentTask
  processStep: DocFlowProcessStep
  executionComment: String
  author: DocFlowUser!
  accepted: Boolean
  acceptDate: Date
  state: DocFlowState
  htmlView: String
  target: DocFlowInternalDocument
  targets: [DocFlowTarget!]
}

input DocFlowTasksInput {
  "With files, default = true"
  withFiles: Boolean
  "Cache this, default = true"
  cache: Boolean
  "Set cache, default = true"
  setCache: Boolean
  "WebSocket results, default = true"
  websocket: Boolean
}

input DocFlowTasksSubInput {
  "With files, default = true"
  withFiles: Boolean
}

input DocFlowTaskInput {
  id: String!
  "With files, default = true"
  withFiles: Boolean
  "Cache this, default = true"
  cache: Boolean
  "Set cache, default = true"
  setCache: Boolean
  "WebSocket results, default = true"
  websocket: Boolean
}

input DocFlowTaskSubInput {
  id: String!
  "With files, default = true"
  withFiles: Boolean
}

input DocFlowInternalDocumentInput {
  id: String!
  "Cache this, default = true"
  cache: Boolean
  "Set cache, default = true"
  setCache: Boolean
  "WebSocket results, default = true"
  websocket: Boolean
}

input DocFlowInternalDocumentSubInput {
  id: String!
}

input DocFlowFileInput {
  id: String!
}

type Query {
  docFlowTasks(tasks: DocFlowTasksInput): [DocFlowTask!]
  docFlowTask(task: DocFlowTaskInput!): DocFlowTask!
  docFlowInternalDocument(internalDocument: DocFlowInternalDocumentInput!): [DocFlowInternalDocument!]
  docFlowFile(file: DocFlowFileInput!): DocFlowFile!
}

type Mutation {
  "Change processStep"
  docFlowProcessStep(step: DocFlowProcessStep!, taskID: ID!, data: DocFlowDataInput!): DocFlowTask!
}

type Subscription {
  docFlowTasks(tasks: DocFlowTasksSubInput): [DocFlowTask!]
  docFlowTask(task: DocFlowTaskSubInput!): DocFlowTask!
  docFlowInternalDocument(target: DocFlowInternalDocumentSubInput!): [DocFlowInternalDocument!]
}
